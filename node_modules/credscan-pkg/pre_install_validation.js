const exec = require('child_process').exec;

if (process.platform === "win32") {
    const winInstallScript = exec('validateDotnetVersionWindows.bat', function(err, stdout, stderr) {
        if (err) {
            console.log('\x1b[31m', 'Error:');
        }
        console.log(stdout);
    });
    winInstallScript.stdout.on('data', (data) => {
        console.log(data);
    });
} else if (process.platform === "darwin") {
    console.log('\x1b[31m', 'Error:');
    console.log('\x1b[31m', 'CredScan is not supported on MacOS. Please use Linux or Windows');
} else {
    const installScript = exec('./validateDotnetVersion.sh', function(err, stdout, stderr) {
        if (err) {
            console.log('\x1b[31m', 'Error:');
        }
        console.log(stdout);
    });
    installScript.stdout.on('data', (data) => {
        console.log(data);
    });
}